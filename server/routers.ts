import { COOKIE_NAME } from "@shared/const";\nimport { getSessionCookieOptions } from "./_core/cookies";\nimport { systemRouter } from "./_core/systemRouter";\nimport { publicProcedure, router } from "./_core/trpc";\nimport { lotteryRouter } from "./routers/lottery";\n\nexport const appRouter = router({\n  system: systemRouter,\n  auth: router({\n    me: publicProcedure.query(opts => opts.ctx.user),\n    logout: publicProcedure.mutation(({ ctx }) => {\n      const cookieOptions = getSessionCookieOptions(ctx.req);\n      ctx.res.clearCookie(COOKIE_NAME, { ...cookieOptions, maxAge: -1 });\n      return {\n        success: true,\n      } as const;\n    }),\n  }),\n  lottery: lotteryRouter,\n});\n\nexport type AppRouter = typeof appRouter;\n"
